{"version":3,"sources":["components/Context.js","types/conditionsTypes.js","types/columnsTypes.js","components/table/TableFilter.jsx","config.js","components/Loader.jsx","components/table/TableView.jsx","components/table/TablePaginate.jsx","state/state.js","components/layout/Layout.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["Context","React","createContext","conditionsTypes","name","title","columnsTypes","TableFilter","useContext","dispatch","useState","column","setColumn","condition","setCondition","value","setValue","sub","setSub","selectColumn","columnIndex","selectCondition","conditionIndex","inputValue","useEffect","type","payload","className","onSubmit","e","preventDefault","submit","htmlFor","id","onChange","target","map","item","key","required","onClick","reset","URLServer","Loader","role","TableView","discardValue","state","isLoad","setLoad","a","fetch","filterState","sql","sortState","paginateState","response","json","result","body","paginate","updateData","current","scope","filter","i","inDesc","orderBy","colSpan","dataState","date","count","distance","TablePaginate","links","setLinks","diff","Math","round","limit","transition","link","next","prev","push","createLinks","_","initState","mainReducer","action","mode","sort","Layout","useReducer","useMainState","Provider","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f85e078a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const Context = React.createContext({});\r\n","export const conditionsTypes = [\r\n\t{\r\n\t\tname: 'reset',\r\n\t\ttitle: 'Выберите условие'\r\n\t},\r\n\t{\r\n\t\tname: 'equals',\r\n\t\ttitle: 'Равно'\r\n\t},\r\n\t{\r\n\t\tname: 'more',\r\n\t\ttitle: 'Больше'\r\n\t},\r\n\t{\r\n\t\tname: 'less',\r\n\t\ttitle: 'Меньше'\r\n\t},\r\n\t{\r\n\t\tname: 'contains',\r\n\t\ttitle: 'Содержит'\r\n\t}\r\n]","export const columnsTypes = [\r\n\t{\r\n\t\tname: 'reset',\r\n\t\ttitle: 'Выберите колонку'\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\ttitle: 'Название'\r\n\t},\r\n\t{\r\n\t\tname: 'count',\r\n\t\ttitle: 'Количество'\r\n\t},\r\n\t{\r\n\t\tname: 'distance',\r\n\t\ttitle: 'Расстояние'\r\n\t}\r\n]\r\n\r\nexport \tconst filteredColumnsType = (discardValue) => columnsTypes.filter(i => i.name !== discardValue);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {conditionsTypes} from \"../../types/conditionsTypes\";\r\nimport {columnsTypes} from \"../../types/columnsTypes\";\r\nimport {Context} from \"../Context\";\r\n\r\nexport function TableFilter() {\r\n\tconst [, dispatch] = React.useContext(Context);\r\n\t\r\n\tconst [column, setColumn] = useState(columnsTypes[0]);\r\n\tconst [condition, setCondition] = useState(conditionsTypes[0]);\r\n\tconst [value, setValue] = useState('');\r\n\tconst [sub, setSub] = useState(false);\r\n\t\r\n\tconst selectColumn = (columnIndex) => {\r\n\t\tsetColumn(columnsTypes[columnIndex]);\r\n\t}\r\n\tconst selectCondition = (conditionIndex) => {\r\n\t\tsetCondition(conditionsTypes[conditionIndex]);\r\n\t}\r\n\tconst inputValue = (value) => {\r\n\t\tsetValue(value);\r\n\t}\r\n\t\r\n\tconst reset = (e) => {\r\n\t\te?.preventDefault();\r\n\r\n\t\tselectColumn(0);\r\n\t\tselectCondition(0);\r\n\t\tinputValue('')\r\n\t\t\r\n\t\tsetSub(!sub);\r\n\t}\r\n\t\r\n\tconst submit = (e) => {\r\n\t\te?.preventDefault();\r\n\t\tsetSub(!sub);\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'filter',\r\n\t\t\tpayload: {\r\n\t\t\t\tcolumn: column.name,\r\n\t\t\t\tcondition: condition.name,\r\n\t\t\t\tvalue: value\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [sub])\r\n\t\r\n\treturn(\r\n\t\t<form\r\n\t\t\tclassName='shadow p-3 mb-3 bg-body rounded'\r\n\t\t\tonSubmit={e => submit(e)}\r\n\t\t>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<label htmlFor=\"selectColumn\" className=\"form-label\">Выбор колонки</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclassName=\"col form-select\"\r\n\t\t\t\t\t    id='selectColumn'\r\n\t\t\t\t\t\tonChange={e => selectColumn(e.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcolumnsTypes.map((item, key) =>\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\tvalue={key}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<label htmlFor=\"selectCondition\" className=\"form-label\" >Выбор условия</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclassName=\"col form-select\"\r\n\t\t\t\t\t\tid='selectCondition'\r\n\t\t\t\t\t\tonChange={e => selectCondition(e.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconditionsTypes.map((item, key) =>\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\tvalue={key}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<label htmlFor=\"value\" className=\"form-label\">Ввод значения</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"value\"\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={e => inputValue(e.target.value)}\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col d-grid gap-2\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"reset\"\r\n\t\t\t\t\t\tclassName=\"col btn btn-danger\"\r\n\t\t\t\t\t\tonClick={e => reset()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tСброс\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"col btn btn-primary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tПоиск\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\n","export const LIMIT = 5;\r\nexport const URLServer = `https://heroku-php-server-xrest.herokuapp.com/?`","import React from 'react';\r\n\r\nexport function Loader() {\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {Context} from \"../Context\";\r\nimport {columnsTypes, filteredColumnsType} from \"../../types/columnsTypes\";\r\nimport {URLServer} from \"../../config\";\r\nimport {Loader} from \"../Loader\";\r\n\r\nexport function TableView() {\r\n\tconst [state, dispatch] = React.useContext(Context);\r\n\tconst [isLoad, setLoad] = useState(false);\r\n\r\n\tconst orderBy = (item) => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'sort',\r\n\t\t\tpayload: {\r\n\t\t\t\tcolumn: item.name,\r\n\t\t\t\tinDesc: state.sortState.column === item.name\r\n\t\t\t\t\t? !state.sortState.inDesc\r\n\t\t\t\t\t: state.sortState.inDesc\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n        \r\n\t\tupdateData(state)\r\n\t\t\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [state.filterState, state.paginateState.current, state.sortState]);\r\n\r\n\tasync function updateData(state) {\r\n        setLoad(true);\r\n\r\n\t\tconst response = await fetch(`${URLServer}${state.filterState.sql}${state.sortState.sql}${state.paginateState.sql}`);\r\n\t\t\r\n\t\tconst result = await response.json();\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: 'update',\r\n\t\t\tpayload: {\r\n\t\t\t\tbody: result.body,\r\n\t\t\t\tpaginate: result.paginate\r\n\t\t\t}\r\n\t\t});\r\n\r\n        setLoad(false);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className='table-responsive'>\r\n\t\t\t<table className=\"table table-bordered\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th scope=\"col\">Дата</th>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfilteredColumnsType(columnsTypes[0].name).map((item, key) =>\r\n\t\t\t\t\t\t\t\t<th\r\n\t\t\t\t\t\t\t\t\tclassName={state.sortState.column === item.name ? 'table-primary' : ''}\r\n\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\tscope=\"col\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => orderBy(item)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>                \r\n\t\t\t\t\t{!isLoad ? state.dataState.map((i, key) =>\r\n\t\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t\t<td>{i.date}</td>\r\n\t\t\t\t\t\t\t<td>{i.title}</td>\r\n\t\t\t\t\t\t\t<td>{i.count}</td>\r\n\t\t\t\t\t\t\t<td>{i.distance}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t) : (\r\n                        <tr>\r\n                            <td colSpan='4'>\r\n                                <Loader />\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {Context} from \"../Context\";\r\n\r\nexport function TablePaginate() {\r\n\tconst [state, dispatch] = React.useContext(Context);\r\n\tconst [links, setLinks] = useState([]);\r\n\t\r\n\tconst createLinks = () => {\r\n\t\tconst links = [];\r\n\t\tlet count = diff() <= 0 ? 0 : diff();\r\n\t\t\t\t\r\n\t\tfor (let i = 0; i <= count; i++) {\r\n\t\t\tlinks.push(i);\r\n\t\t}\r\n\r\n\t\treturn links;\r\n\t}\r\n\t\r\n\tfunction diff() {\r\n\t\treturn  Math.round(+(state.paginateState.count / state.paginateState.limit) - 1);\r\n\t}\r\n\t\r\n\tconst transition = (link) => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'paginate',\r\n\t\t\tpayload: {\r\n\t\t\t\tcount: state.paginateState.count,\r\n\t\t\t\tnext: link + 1,\r\n\t\t\t\tcurrent: link,\r\n\t\t\t\tprev: link - 1,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tsetLinks(createLinks());\r\n\t\t\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [state.paginateState.count])\r\n\t\r\n\treturn(\r\n\t\t<nav>\r\n\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t<li className={state.paginateState.current <= 0 ? 'page-item disabled' : 'page-item'}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\t\tonClick={_ => transition(state.paginateState.current - 1)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tПредыдущая\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\tlinks.map((link, key) =>\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\tclassName={link === state.paginateState.current ? 'page-item active' : 'page-item'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\t\t\t\tonClick={_ => transition(link)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{link}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t<li className={state.paginateState.current >= diff() ? 'page-item disabled' : 'page-item'}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\t\tonClick={_ => transition(state.paginateState.current + 1)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tСледующая\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\n","import {useReducer} from 'react';\r\nimport {LIMIT} from \"../config\";\r\n\r\nconst initState = {\r\n\tfilterState: {\r\n\t\tcolumn: null,\r\n\t\tcondition: null,\r\n\t\tvalue: null,\r\n\t\tsql: '',\r\n\t},\r\n\tsortState: {\r\n\t\tcolumn: '',\r\n\t\tinDesc: true,\r\n\t\tsql: '',\r\n\t},\r\n\tpaginateState: {\r\n\t\tcount: 30,\r\n\t\tnext: 1,\r\n\t\tcurrent: 0,\r\n\t\tprev: 0,\r\n\t\tlimit: LIMIT,\r\n\t\tsql: `paginate=[0,${LIMIT}]&`,\r\n\t},\r\n\tdataState: []\r\n}\r\n\r\nfunction mainReducer(state, action) {\r\n\tswitch (action.type) {\r\n\t\tcase 'filter':\r\n\t\t\tlet sql = '';\r\n\t\t\tif (action.payload.column !== 'reset' && action.payload.condition !== 'reset' && action.payload.value !== '') {\r\n\t\t\t\tsql = `filter=[${action.payload.column},${action.payload.condition},${action.payload.value}]&`;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfilterState: {\r\n\t\t\t\t\tcolumn: action.payload.column,\r\n\t\t\t\t\tcondition: action.payload.condition,\r\n\t\t\t\t\tvalue: action.payload.value,\r\n\t\t\t\t\tsql: sql,\r\n\t\t\t\t},\r\n                paginateState: {\r\n\t\t\t\t\tcount: 0,\r\n\t\t\t\t\tnext: 1,\r\n\t\t\t\t\tcurrent: 0,\r\n\t\t\t\t\tprev: 0,\r\n\t\t\t\t\tlimit: LIMIT,\r\n\t\t\t\t\tsql: `paginate=[0,${LIMIT}]&`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase 'sort':\r\n\t\t\tlet mode = action.payload.inDesc ? 'desc' : 'asc';\r\n\t\t\tlet sort = `sort=[${action.payload.column},${mode}]&`;\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsortState: {\r\n\t\t\t\t\tcolumn: action.payload.column,\r\n\t\t\t\t\tinDesc: action.payload.inDesc,\r\n\t\t\t\t\tsql: sort\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\tcase 'paginate':\r\n\t\t\tlet paginate = `paginate=[${action.payload.current},${LIMIT}]&`;\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaginateState: {\r\n\t\t\t\t\tcount: action.payload.count,\r\n\t\t\t\t\tnext: action.payload.next,\r\n\t\t\t\t\tcurrent: action.payload.current,\r\n\t\t\t\t\tprev: action.payload.prev,\r\n\t\t\t\t\tlimit: LIMIT,\r\n\t\t\t\t\tsql: paginate\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase 'update':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdataState: action.payload.body,\r\n\t\t\t\tpaginateState: {\r\n\t\t\t\t\t...state.paginateState,\r\n\t\t\t\t\tcount: action.payload.paginate.count,\r\n\t\t\t\t\tlimit: action.payload.paginate.limit,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tdefault: return initState;\r\n\t}\r\n}\r\n\r\nexport function useMainState() {\r\n\tconst [state, dispatch] = useReducer(mainReducer, initState);\r\n\t\r\n\treturn [\r\n\t\tstate,\r\n\t\tdispatch\r\n\t]\r\n}\r\n\r\n","import React from 'react';\r\nimport {Context} from \"../Context\";\r\nimport {TableFilter} from \"../table/TableFilter\";\r\nimport {TableView} from \"../table/TableView\";\r\nimport {TablePaginate} from \"../table/TablePaginate\";\r\nimport {useMainState} from \"../../state/state\";\r\n\r\nexport function Layout() {\r\n\tconst [state, dispatch] = useMainState();\r\n\t\r\n\treturn(\r\n\t\t<Context.Provider\r\n\t\t\tvalue={\r\n\t\t\t\t[\r\n\t\t\t\t\tstate,\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div className='container flex-column justify-content-center align-items-center'>\r\n\t\t\t\t\r\n\t\t\t\t<TableFilter />\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"shadow p-2 bg-body rounded\">\r\n\t\t\t\t\t<TableView/>\r\n\t\t\t\t\t<TablePaginate />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Context.Provider>\r\n\t)\r\n}","import React from 'react';\nimport {Layout} from \"./components/layout/Layout\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Layout />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}